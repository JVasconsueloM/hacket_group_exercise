import{Aa as oe,Ba as c,Ia as I,Ka as ne,M as v,Na as ie,Q as b,Ra as ae,S as p,Ua as N,Z as Q,_ as G,_a as re,a as z,ab as k,b as $,c as C,da as B,ea as g,fa as J,ga as L,ha as u,ia as x,ka as S,na as l,oa as K,pa as W,q as M,qa as X,ra as r,sa as s,ta as a,ua as Y,va as _,wa as Z,xa as ee,ya as te,za as d}from"./chunk-OBKGMM6K.js";var P=class o{constructor(t,e){this.http=t;this.sanitizer=e}folder=g("icons");name=g.required();iconContent="";ngOnInit(){this.loadIcon()}loadIcon(){return C(this,null,function*(){let e=`${I()?"":"static"}/assets/${this.folder()}/${this.name()}.svg`;try{let n=yield M(this.http.get(e,{responseType:"text"}));this.iconContent=this.sanitizer.bypassSecurityTrustHtml(n)}catch(n){console.error(`Error loading SVG icon: ${n}`)}})}static \u0275fac=function(e){return new(e||o)(x(ie),x(ae))};static \u0275cmp=p({type:o,selectors:[["app-svg-icon"]],inputs:{folder:[1,"folder"],name:[1,"name"]},standalone:!0,features:[c],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,n){e&1&&a(0,"div",0),e&2&&l("innerHtml",n.iconContent,J)},styles:["[_nghost-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}"]})};var F=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-header"]],standalone:!0,features:[c],decls:3,vars:0,consts:[["name","logo"],["name","bell"]],template:function(e,n){e&1&&(r(0,"section"),a(1,"app-svg-icon",0)(2,"app-svg-icon",1),s())},dependencies:[P],styles:["[_nghost-%COMP%]   section[_ngcontent-%COMP%]{padding:16px 24px;display:flex;align-items:baseline;justify-content:space-between}"]})};var ue=["*"],w=class o{iconName=g.required();active=g.required();click=B();clickHandler(t){t.stopPropagation(),this.click.emit()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-sidebar-option"]],inputs:{iconName:[1,"iconName"],active:[1,"active"]},outputs:{click:"click"},standalone:!0,features:[c],ngContentSelectors:ue,decls:3,vars:3,consts:[[3,"click"],[3,"name"]],template:function(e,n){e&1&&(ee(),r(0,"button",0),_("click",function(i){return n.clickHandler(i)}),a(1,"app-svg-icon",1),te(2),s()),e&2&&(K("active",n.active()),u(),l("name",n.iconName()))},dependencies:[P],styles:["[_nghost-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;transition:all .3s ease;box-sizing:border-box;width:100%;background:none;border:none;padding:0;margin:0;outline:none;display:inline-flex;align-items:center;gap:8px;color:hsl(var(--color-secondary))}[_nghost-%COMP%]   button.active[_ngcontent-%COMP%]{color:hsl(var(--color-primary));font-weight:600}"]})};var se=o=>{let t=Array.from(new Set(o.map(i=>i.year))).sort((i,h)=>Number(i)-Number(h)),e=Array.from(new Set(o.map(i=>i.state))),n={};e.forEach(i=>{n[i]=Array(t.length).fill(0)}),o.forEach(i=>{let h=t.indexOf(i.year);h!==-1&&(n[i.state][h]=i.amount)});let O={};return e.forEach(i=>{O[i]=[];for(let h=0;h<n[i].length;h++)if(h===0)O[i].push(100);else{let de=n[i][h-1],fe=n[i][h]/de*100;O[i].push(fe)}}),{labels:t,datasets:e.map(i=>({label:i,data:O[i]}))}};var pe=k`
  {
    vehicleOwnership {
      vehiclesAvailable
      percentage
    }
  }
`;var ce=k`
  query {
    population {
      state
      year
      amount: populationAmount
    }
  }
`;var V=class o{constructor(t){this.apollo=t}executeQuery(t){return M(this.apollo.query({query:t})).then(e=>e.data)}static \u0275fac=function(e){return new(e||o)(b(re))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};var D=class o{constructor(t){this.graphql=t}fetchVehicleOwnershipInHouseholdsData(){return C(this,null,function*(){return(yield this.graphql.executeQuery(pe)).vehicleOwnership})}fetchPopulationData(){return C(this,null,function*(){return(yield this.graphql.executeQuery(ce)).population})}static \u0275fac=function(e){return new(e||o)(b(V))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};var T=class o{constructor(t){this.repository=t}fetchPopulationData(){return C(this,null,function*(){let t=yield this.repository.fetchPopulationData();return this.transformData(t)})}transformData(t){return se(t)}static \u0275fac=function(e){return new(e||o)(b(D))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};var H=class o{constructor(t){this.populationUseCase=t}labels=S([]);datasets=S([]);chartOptions={responsive:!0};ngOnInit(){this.populationUseCase.fetchPopulationData().then(({labels:t,datasets:e})=>{this.labels.set(t),this.datasets.set(e)})}static \u0275fac=function(e){return new(e||o)(x(T))};static \u0275cmp=p({type:o,selectors:[["app-population-chart"]],standalone:!0,features:[c],decls:6,vars:4,consts:[["baseChart","","width","100",3,"datasets","labels","options","type"]],template:function(e,n){e&1&&(r(0,"div")(1,"p"),d(2,"Population of "),r(3,"strong"),d(4,"Alabama, Florida and California"),s()(),a(5,"canvas",0),s()),e&2&&(u(5),l("datasets",n.datasets())("labels",n.labels())("options",n.chartOptions)("type","line"))},dependencies:[N],styles:["[_nghost-%COMP%]{width:calc(100% - 200px)}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;margin-bottom:32px}"]})};var le=o=>{let t=[],e=[];return o.forEach(n=>{t.push(n.vehiclesAvailable),e.push(n.percentage)}),{datasets:[{data:e}],labels:t}};var j=class o{constructor(t){this.repository=t}fetchVehicleOwnershipInHouseholdsData(){return C(this,null,function*(){let t=yield this.repository.fetchVehicleOwnershipInHouseholdsData();return this.transformData(t)})}transformData(t){return le(t)}static \u0275fac=function(e){return new(e||o)(b(D))};static \u0275prov=v({token:o,factory:o.\u0275fac,providedIn:"root"})};var E=class o{constructor(t){this.vehicleOwnershipUseCase=t}datasets=S([]);chartOptions={responsive:!0};ngOnInit(){this.vehicleOwnershipUseCase.fetchVehicleOwnershipInHouseholdsData().then(({datasets:t})=>{this.datasets.set(t)})}static \u0275fac=function(e){return new(e||o)(x(j))};static \u0275cmp=p({type:o,selectors:[["app-vehicle-ownership-chart"]],standalone:!0,features:[c],decls:4,vars:3,consts:[["baseChart","",3,"datasets","options","type"]],template:function(e,n){e&1&&(r(0,"div")(1,"h5"),d(2,"Cars per household in USA 2021"),s(),a(3,"canvas",0),s()),e&2&&(u(3),l("datasets",n.datasets())("options",n.chartOptions)("type","pie"))},dependencies:[N],styles:["[_nghost-%COMP%]{width:200px}[_nghost-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:32px}"]})};var U=class o{extension=g("png");name=g.required();src=ne(()=>`${I()?"":"static"}/assets/images/${this.name()}.${this.extension()}`);static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-image"]],inputs:{extension:[1,"extension"],name:[1,"name"]},standalone:!0,features:[c],decls:1,vars:2,consts:[[3,"src","alt"]],template:function(e,n){e&1&&a(0,"img",0),e&2&&l("src",n.src(),L)("alt",n.name())},styles:["[_nghost-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}"]})};var A=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-sidebar-footer"]],standalone:!0,features:[c],decls:11,vars:1,consts:[[1,"profile"],["name","john","extension","png"],[1,"account"],[1,"name"],[1,"position"],["iconName","sign-out",3,"active"]],template:function(e,n){e&1&&(r(0,"div",0),a(1,"app-image",1),r(2,"div",2)(3,"h5",3),d(4,"John "),a(5,"br"),d(6," Smith"),s(),r(7,"p",4),d(8,"Principal"),s()()(),r(9,"app-sidebar-option",5),d(10,` Sign Out
`),s()),e&2&&(u(9),l("active",!1))},dependencies:[w,U],styles:["[_nghost-%COMP%]   .profile[_ngcontent-%COMP%]{display:flex;flex-direction:row;width:100%;gap:6px;margin-bottom:32px}[_nghost-%COMP%]   .profile[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   .profile[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:13px;font-weight:600}[_nghost-%COMP%]   .profile[_ngcontent-%COMP%]   .account[_ngcontent-%COMP%]   .position[_ngcontent-%COMP%]{font-size:11px;color:hsl(var(--color-secondary))}"]})};var ve=(o,t)=>t.name;function be(o,t){if(o&1){let e=Y();r(0,"app-sidebar-option",2),_("click",function(){let O=Q(e).$implicit,i=Z();return G(i.selectItem(O))}),d(1),s()}if(o&2){let e=t.$implicit;l("iconName",e.icon)("active",e.active),u(),oe(" ",e.name," ")}}var q=class o{options=[{icon:"home",name:"Dashboard",active:!0},{icon:"users",name:"Accounts",active:!1},{icon:"sync",name:"Activities",active:!1}];selectItem(t){this.options=this.options.map(e=>$(z({},e),{active:e.name===t.name}))}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-sidebar"]],standalone:!0,features:[c],decls:7,vars:0,consts:[[1,"sidebar-container"],[3,"iconName","active"],[3,"click","iconName","active"]],template:function(e,n){e&1&&(r(0,"div",0),W(1,be,2,3,"app-sidebar-option",1,ve),a(3,"app-sidebar-footer"),s(),r(4,"section"),a(5,"app-vehicle-ownership-chart")(6,"app-population-chart"),s()),e&2&&(u(),X(n.options))},dependencies:[w,H,E,A],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row;height:100%;gap:24px}[_nghost-%COMP%]   .sidebar-container[_ngcontent-%COMP%]{height:100%;width:220px;background:hsl(var(--color-sidebar));display:flex;flex-direction:column;gap:8px;border-radius:var(--border-radius);padding:16px}[_nghost-%COMP%]   app-sidebar-footer[_ngcontent-%COMP%]{margin-top:auto}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{padding:24px;border:hsl(var(--color-border)) 1px solid;height:100%;width:100%;background:hsl(var(--color-background-contrast));box-shadow:0 3px 5px hsla(var(--color-shadow),.2);border-radius:var(--border-radius);display:flex;flex-direction:row;gap:75px}"]})};var R=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=p({type:o,selectors:[["app-home"]],standalone:!0,features:[c],decls:3,vars:0,consts:[[1,"container"]],template:function(e,n){e&1&&(a(0,"app-header"),r(1,"section",0),a(2,"app-sidebar"),s())},dependencies:[F,q],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{padding:0 24px 16px;flex:1}"]})};export{R as default};
